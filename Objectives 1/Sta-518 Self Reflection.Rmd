---
title: "Sta-518 Self Reflection"
author: "Sam_Inturi"
date: "11/16/2021"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(haven)
library(labelled)
library(readr)
library(readxl)
library(stringr)
library(dplyr)
```

# STA 518 Objectives:-

## 1.Import, manage, and clean data:-

I can import data from a variety of sources.

```{r}
# Read TXT files with read.table()
children <- read.table("https://alexd106.github.io/intro2R/data/children.txt", header = TRUE)
children

# Read in csv files with read_csv()
college<- read_csv("data/recent-grads.csv")
college

# Read in xlsx files with read_excel()
fxlsx <- read_excel("data/loyn.xlsx")
fxlsx

# Read in csv files with readr::read_csv() 
banksal <- readr::read_csv("data/banksalary.csv")
banksal

# reading a large data set 
nls <- read_dta(file="https://github.com/ozanj/rclass/raw/master/data/nls72/nls72stu_percontor_vars.dta")
nls
country <- gapminder
```

I can isolate information from a larger data source.

```{r}
# I am taking the above children table to perform data isolation operations
# filter operation

filter(children, sex == "M" & age == "15")

# I am taking the above banksal table to perform data isolation operations
fbanksal <- filter(banksal, bsal >= 6000 & senior >= 60)
fbanksal

# Randomly select rows from banksal table
slice_sample(banksal, n = 5, replace = TRUE)

# using select statement 
select(iris, petal_length = Petal.Length)

# using summarize state
college_recent_grads %>%
  select(n=median) %>%
  summarise(total = sum(n), max = max(n), mean = mean(n), min = min(n), sd = sd(n), median = median(n))
```

I can combine information from multiple data sources

Example data tables

```{r}
orders <- read.csv("https://raw.githubusercontent.com/ds4stats/r-tutorials/master/merging/data/orders.csv", as.is = TRUE)
orders
customers <- read.csv("https://raw.githubusercontent.com/ds4stats/r-tutorials/master/merging/data/customers.csv", as.is = TRUE)
customers
```

Joining data tables

```{r}
# Inner_join creates a new table which is restricted to cases where the values of “by variable” exist in both data sets. All columns from both data sets are returned for these cases.
inner_join(x = orders, y = customers, by = "id")

# Left_join returns all cases from the x data table, regardless of whether there are matching values of the by variable(s) in y. All columns from both data tables are returned for these cases.
left_join(x = orders, y = customers, by = "id")

# Right_join returns all cases from the y data table, regardless of whether there are matching values of the by variable(s) in x. All columns from both data tables are returned for these cases.
right_join(x = orders, y = customers, by = "id")

# Full_join returns all rows and columns from both x and y.
full_join(x = orders, y = customers, by = "id")

# Semi_join returns all rows from the x data table where there are matching values of the by variable(s) in y, and only the columns from x.
semi_join(x = orders, y = customers, by = "id")
```

I can restructure information to be in a “tidy” format.

```{r}
# restructure a dataset to be in a more efficient format and add features to make a table more understandable
wide_measures <- country %>% 
  filter(year == 2002) %>% 
  group_by(continent) %>% 
  summarise(
    med_LE = median(lifeExp),
    mean_LE = mean(lifeExp)
  )

wide_measures %>% 
  pivot_longer(
    cols = ends_with("_LE"),
    names_to = "measure",
    values_to = "values"
  ) %>% 
  ggplot(aes(x = continent, y = values,
             group = measure, color = measure)) +
  geom_line()

long_measures <- wide_measures %>% 
  pivot_longer(
    cols = ends_with("_LE"),
    names_to = "measure",
    values_to = "values"
  )

long_measures %>% 
  pivot_wider(
    names_from = continent,
    values_from = values
  )
```

I can transform information to be in a format better suited for specific tasks.

```{r}

```

